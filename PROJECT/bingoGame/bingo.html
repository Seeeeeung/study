<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bingo!</title>
	<style>
		html,body {font-size:16px;}
		html,body,div,h1,table,input {padding:0; margin:0;}
		td {padding:0;}
		#app {height: 700px; display:flex; justify-content:center; align-items:center; padding: 1rem;}
		.wrap {min-width:300px; height:600px; overflow-x:auto}
		.container {display:flex; flex-direction:column; justify-content:space-between; align-items:center;}
		.tit {font-size:1.5rem; color:#ccc; text-align:center;}
		.topic-wrap {margin-top:2rem; font-size:1rem; text-align:center; color:#000}
		.btn-search {color:#888; padding:4px; font-size:0.7rem; border:1px solid #ccc; border-radius:9px; outline:none; cursor:pointer}
		.topic {max-width:300px; word-break:break-all}
		.contents {margin-top: 2rem;}
		.bingo-score.hidden {display:none;}
		.bingo-score {text-align:right; margin-bottom:10px;}
		.bingo-score .btn-wrap {display:inline; width:60px; }
		.btn-wrap .btn-bingo {width:60px; height:30px; font-size:1rem; font-weight:700; color:yellow; border-radius:50px; background-color:yellowgreen; box-shadow:1px 1px 3px #ddd, -2px -1px #ddd}
		.btn-wrap .btn-bingo:active {color:yellowgreen; background-color:yellow;}
		table {position:relative; border-spacing:0; border-collapse:collapse; line-height:1.4rem; table-layout:fixed;}
		.table-wrap {border:1px solid #ccc; padding:1rem;}
		caption {position:absolute; left:-9999px; font-size:0; line-height:0;}
		caption, td {text-align:center; border:1px solid #ccc;}
		.input-wrap.done:hover {background-color:rgb(255, 157, 157); cursor:pointer;}
		.input-wrap.done.active {background-color:red;}
		.ui-input {min-width:50px; width:70px; height:60px; text-align:center; border:0; outline:none; box-sizing:border-box}
		.ui-input:focus {background-color: pink}
		.ui-input.type-long {width:150px; height:30px;}
		.ui-input.type-long:focus {background-color:transparent; border-bottom:1px solid pink}
		.btn-wrap {margin:10px; text-align:right;}
		.btn-wrap button {background-color:#ccc; padding:5px; outline:none; border:none; font-size:0.8rem; cursor:pointer;}
	</style>
</head>
<body>
	<div id="app">
		<div class="wrap">
			<!-- container -->
			<div class="container">
				<h1 class="tit">Bingo GAME(5X5)</h1>
				<div class="topic-wrap">
					<div class="input-wrap">
						<input type="text" title="주제를 입력하세요" placeholder="주제를 입력하세요." class="ui-input type-long" />
						<button type="button" class="btn-search">검색</button>
					</div>

					<p class="topic"></p>
				</div>

				<!-- contents -->
				<div class="contents">
					<div class="bingo-score hidden">
						<span class="score">score : <strong>0</strong></span>

						<div class="btn-wrap">
							<button type="button" class="btn-bingo">빙고!</button>
						</div>
					</div>

					<!-- table-wrap -->
					<div class="table-wrap">
						<table>
							<caption>글자를 적을수 있는 테이블입니다.</caption>
							<tbody>
								<tr>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
									<td>
										<div class="input-wrap">
											<input type="text" title="텍스트입력" placeholder="입력" class="ui-input" />
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<!-- //table-wrap -->

					<div class="btn-wrap">
						<button type="button" class="btn-done">게임시작</button>
						<button type="button" class="btn-reset">새 게임하기</button>
					</div>
				</div>
				<!-- //contents -->
			</div>
			<!-- //container -->
		</div>
	</div>

	<script>
		var topicInp = document.querySelector('.input-wrap input'),
			topic = document.querySelector('.topic');
		
		function checkTopic() {
			const currentTopic = topicInp.value;
			topics = {
				'과일' : ['귤', '레드향', '천혜향', '오렌지', '한라봉', '청귤', '감', '홍시', '딸기', '체리', '앵두', '블루베리', '크렌베리', '라즈베리', '블랙베리', '키위', '골드키위', '망고', '망고스틴', '복숭아', '배', '사과', '자두', '참외', '살구', '석류', '레몬', '유자', '바나나', '무화과', '포도', '거봉', '건포도', '청포도', '오미자', '오디', '샤인머스캣', '수박', '모과', '멜론', '코코넛', '파인애플', '깔라만시', '패션프루트', '라임', '리치', '용과', '두리안', '파파야', '토마토', '방울토마토', '머스크멜론', '매실', '복분자', '산딸기', '천도복숭아', '대추', '금귤', '레드향'],
			}
			console.log(topics['과일'].length)

			switch(currentTopic) {
				case '':
					topic.style.fontSize = '1rem'
					topic.style.color = 'red'
					topic.innerText = '주제를 입력해주세요.';
					break;
				case '과일':
					topic.innerText = topics[currentTopic];
					topic.style.color = '#000';
					break;
				default:
					topic.style.color = 'red'
					topic.innerText = '다른주제를 입력해주세요.'
			}
		}
		const btnSearch = document.querySelector('.btn-search');
		btnSearch.addEventListener('click', checkTopic)

		var inps = document.querySelectorAll('.input-wrap input:not(.type-long)');
		function checkValue() {
			for (let i=0; i<inps.length; i++) {
				const inp = inps[i];
				const inpParent = inp.parentElement;
				const currentValue = inp.value;
				if (currentValue != '' && currentValue != null) {
					inpParent.style.border = 'none'
					setDone()
				} else {
					inpParent.style.borderWidth = '1px'
					inpParent.style.borderStyle = 'solid'
					inpParent.style.borderColor = 'red'
				}

				function setDone() {
					inpParent.classList.add('done')
					inp.setAttribute('disabled','true')
					inp.setAttribute('title','빙고!')
				}
			}
		}

		function checkDone() {
			var inpDone = document.querySelectorAll('.input-wrap.done');
			if (inpDone.length < inps.length) {
				console.log('입력되지않은 공간이 있습니다.')
			} else if (inpDone.length == inps.length) {
				console.log('시작완료')
				startBingo()
			}

			function startBingo() {
				const score = document.querySelector('.bingo-score.hidden');
				score.classList.remove('hidden')
				for (let i=0; i<inpDone.length; i++) {
					const bingo = inpDone[i];
					bingo.addEventListener('click', function() {
						this.classList.toggle('active')
					});
				}
			}
		}

		function resetValue() {
			location.reload(true)
		}

		const done = document.querySelector('.btn-done');
		done.addEventListener('click', checkValue);
		done.addEventListener('click', checkDone);

		const reset = document.querySelector('.btn-reset');
		reset.addEventListener('click', resetValue)

		var count = 0;
		const scoreBtn = document.querySelector('.btn-bingo');
		function upScore() {
			count = count+1;
			document.querySelector('.score strong').innerText = count;
		}

		scoreBtn.addEventListener('click', upScore);
	</script>
</body>
</html>